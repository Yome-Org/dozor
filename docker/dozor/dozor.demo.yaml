context:
  project: demo
  environment: local

evaluation:
  window: 25s
  recovery_window: 15s
  incident_threshold: 5s
  debounce: 250ms

runtime:
  queue_capacity: 1024

components:
  - name: mailer
  - name: api
  - name: worker
  - name: notifier
  - name: web

dependencies:
  - upstream: mailer
    downstream: api
  - upstream: mailer
    downstream: worker
  - upstream: mailer
    downstream: notifier
  - upstream: api
    downstream: web

thresholds:
  mailer:
    critical: 3
    degraded: 3
  api:
    critical: 3
    degraded: 3
  worker:
    critical: 3
    degraded: 3
  notifier:
    critical: 3
    degraded: 3
  web:
    critical: 3
    degraded: 3

checks:
  - component: mailer
    type: http
    url: http://mock-health:18080/health/mailer
    interval: 5s
    timeout: 2s
    failure_threshold: 3
